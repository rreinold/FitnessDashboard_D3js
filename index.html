<!DOCTYPE HTML>
<!--
  Parallelism by HTML5 UP
  html5up.net | @n33co
  Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <title>Parallelism by HTML5 UP</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
  </head>

  <style>

  body {
    font: 10px sans-serif;
    shape-rendering: crispEdges;
  }
  .header {
    font: 40px sans-serif;
  }
  .day {
    fill: #fff;
    stroke: #ccc;
  }

  .month {
    fill: none;
    stroke: #000;
    stroke-width: 2px;
  }

  .chart-gauge
  {
    top:250px;
    left:100px;
    width: 400px;
   } 
  .chart-filled
  {
    fill: steelblue;
  }
  .chart-empty
  {
    fill: #dedede;
  }

  .needle, .needle-center
  {
    fill: #464A4F;
  }

  </style>

  <body>

    <div id="wrapper">

      <div id="main">
        <div id="reel">

          <!-- Header Item -->

            <div id="header" class="item" data-width="250">
              <div class="inner">
                <h1>Fitness &amp; D3.js</h1>
                <p>My Personal Fitness Dashboard<br />
                Template by HTML5 UP</p>
              </div>
            </div>

          <!-- Thumb Items -->

            <article class="item thumb" id="tracker" data-width="1050">
              <h2>2015 Exercise Tracker - Calendar View</h2>
              <!-- SVG will be dropped here -->
            </article>

            <article class="item thumb" data-width="384">
              <h2>Ad Infinitum</h2>
              <a href="images/fulls/02.jpg" class="image"><img src="images/thumbs/02.jpg" alt=""></a>
            </article>

            <article class="item thumb" data-width="274">
              <h2>Different.</h2>
              <a href="images/fulls/03.jpg" class="image"><img src="images/thumbs/03.jpg" alt=""></a>
            </article>

            <article class="item thumb" data-width="282">
              <h2>Elysium</h2>
              <a href="images/fulls/04.jpg" class="image"><img src="images/thumbs/04.jpg" alt=""></a>
            </article>

            <article class="item thumb" id="goal_miletime" data-width="476">
              <h2>Goal - 1 Mile Time</h2>
              <!-- SVG will be dropped here -->
            </article>

            <article class="item thumb" data-width="232">
              <h2>The Pursuit</h2>
              <a href="images/fulls/06.jpg" class="image"><img src="images/thumbs/06.jpg" alt=""></a>
            </article>

            <article class="item thumb" data-width="352">
              <h2>Boundless</h2>
              <a href="images/fulls/07.jpg" class="image"><img src="images/thumbs/07.jpg" alt=""></a>
            </article>

            <article class="item thumb" id="goal_pcf" data-width="348">
              <h2>Goal - Percent Body Fat</h2>
              <!-- SVG will be dropped here -->
            </article>

          <!-- Filler Thumb Items (just for demonstration purposes) -->
            <article class="item thumb" data-width="476"><h2>Kingdom of the Wind</h2><a href="images/fulls/05.jpg" class="image"><img src="images/thumbs/05.jpg" alt=""></a></article>
            <article class="item thumb" data-width="232"><h2>The Pursuit</h2><a href="images/fulls/06.jpg" class="image"><img src="images/thumbs/06.jpg" alt=""></a></article>
            <article class="item thumb" data-width="352"><h2>Boundless</h2><a href="images/fulls/07.jpg" class="image"><img src="images/thumbs/07.jpg" alt=""></a></article>
            <article class="item thumb" data-width="348"><h2>The Spectators</h2><a href="images/fulls/08.jpg" class="image"><img src="images/thumbs/08.jpg" alt=""></a></article>
            <article class="item thumb" data-width="282"><h2>You really got me</h2><a href="images/fulls/01.jpg" class="image"><img src="images/thumbs/01.jpg" alt=""></a></article>
            <article class="item thumb" data-width="384"><h2>Ad Infinitum</h2><a href="images/fulls/02.jpg" class="image"><img src="images/thumbs/02.jpg" alt=""></a></article>
            <article class="item thumb" data-width="274"><h2>Different.</h2><a href="images/fulls/03.jpg" class="image"><img src="images/thumbs/03.jpg" alt=""></a></article>
            <article class="item thumb" data-width="282"><h2>Elysium</h2><a href="images/fulls/04.jpg" class="image"><img src="images/thumbs/04.jpg" alt=""></a></article>

        </div>
      </div>

      <div id="footer">
        <div class="left">
          <p>This is <strong>Parallelism</strong>, a responsive portfolio site template by <a href="http://html5up.net">HTML5 UP</a>. Free for personal<br />
          and commercial use under the <a href="http://html5up.net/license">Creative Commons Attribution</a> license.</p>
        </div>
        <div class="right">
          <ul class="contact">
            <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
            <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
            <li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
            <li><a href="#" class="icon fa-pinterest"><span class="label">Pinterest</span></a></li>
            <li><a href="#" class="icon fa-envelope"><span class="label">Email</span></a></li>
          </ul>
          <ul class="copyright">
            <li>&copy; Untitled</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
          </ul>
        </div>
      </div>

    </div>

    <!-- Scripts -->
      <script src="assets/js/jquery.min.js"></script>
      <script src="assets/js/jquery.poptrox.min.js"></script>
      <script src="assets/js/skel.min.js"></script>
      <script src="assets/js/skel-viewport.min.js"></script>
      <script src="assets/js/util.js"></script>
      <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
      <script src="assets/js/main.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>

    <script>

    var width = 1500,
        height = 200,
        cellSize = 18; // cell size

    var percent = d3.format(".1%"),
        format = d3.time.format("%Y-%m-%d");

    var maxIntensity = 10;
    var minIntensity = 0;

    var color = d3.scale.linear()
        .domain([0, 6, 10])
        .range(["yellow","orange", "crimson"]);

    var svg = d3.select("#tracker").selectAll("svg")
        .data(d3.range(2015,2016))
      .enter().append("svg")
        .attr("width", width)
        .attr("height", height)
      .append("g")

        // This line was disabling color coding
        .attr("transform", "translate(10,30)");

    svg.append("text")
        .attr("transform", "translate(-6," + cellSize * 3.5 + ")rotate(-90)")
        .style("text-anchor", "middle")
        .text(function(d) { return d; });

    var rect = svg.selectAll(".day")
        .data(function(d) { return d3.time.days(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
      .enter().append("rect")
        .attr("class", "day")
        .attr("width", cellSize)
        .attr("height", cellSize)
        .attr("x", function(d) { return d3.time.weekOfYear(d) * cellSize; })
        .attr("y", function(d) { return d.getDay() * cellSize; })
        .datum(format);

    rect.append("title")
        .text(function(d) { return d; });

    svg.selectAll(".month")
        .data(function(d) { return d3.time.months(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
      .enter().append("path")
        .attr("class", "month")
        .attr("d", monthPath);

    d3.json("/assets/json/exercise.json", function(error, data) {
      if (error) throw error;

      data.forEach(function(d) {
        d.dd = format(format.parse(d.Date));
      });

      var nest = d3.nest()
        .key(function(d) { return d.dd; })
        .map(data);

      rect.filter(function(d) { return d in nest; })

          .style("fill", function(d) { 
          
            switch(nest[d][0].Type){
              case "Hiking": return "cornflowerblue";
              case "Gym": return "orangered";
              default: return "mediumpurple";
            }


          })
          .select("title")
          .text(function(d) { return d + ", Type: " + nest[d][0].Type; });
    });

    function monthPath(t0) {
      var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
          d0 = t0.getDay(), w0 = d3.time.weekOfYear(t0),
          d1 = t1.getDay(), w1 = d3.time.weekOfYear(t1);
      return "M" + (w0 + 1) * cellSize + "," + d0 * cellSize
          + "H" + w0 * cellSize + "V" + 7 * cellSize
          + "H" + w1 * cellSize + "V" + (d1 + 1) * cellSize
          + "H" + (w1 + 1) * cellSize + "V" + 0
          + "H" + (w0 + 1) * cellSize + "Z";
    }

    // Legend explaining color scheme
    var legend = d3.select("body").selectAll("svg").append("g");

      legend
        .attr("width",400)
        .attr("height",150)
        .attr("transform","translate(980,30)");
      legend
        .append("rect")
        .style("fill","cornflowerblue")
        .attr("class","day")
        .attr("width",cellSize)
        .attr("height",cellSize)
        .attr("y",0);
      legend
        .append("rect")
        .style("fill","orangered")
        .attr("class","day")
        .attr("width",cellSize)
        .attr("height",cellSize)
        .attr("y", 1 * cellSize);
      legend
        .append("rect")
        .style("fill","mediumpurple")
        .attr("class","day")
        .attr("width",cellSize)
        .attr("height",cellSize)
        .attr("y", 2 * cellSize);
      legend
        .append("text")
        .text("Hiking")
        .attr("x",cellSize + 5)
        .attr("y",cellSize);
      legend
        .append("text")
        .text("Gym")
        .attr("x",cellSize + 5)
        .attr("y",2 * cellSize);
      legend
        .append("text")
        .text("Rock Climbing")
        .attr("x",cellSize + 5)
        .attr("y",3 * cellSize);

    var gauge1 = d3.select("#goal_pcf").append("div").attr("class","chart-gauge");

    // var gaugeText = d3.select("#goal_pcf").append("text").text("These gauges will show my fitness goal progress.").attr("class","header");

    // TODO Multiple gauges
    // var gauge2 = d3.select("body").append("div").attr("class","chart-gauge");
    // var gauge3 = d3.select("body").append("div").attr("class","chart-gauge");


    </script>
    <script type="text/javascript" src="assets/js/d3_gauge.js"></script>

  </body>
</html>